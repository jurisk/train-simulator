digraph G {
    // Zoning
    node [shape = box, color = blue, style = filled];
    CoalDeposit [label = "Coal Deposit"];
    IronDeposit [label = "Iron Deposit"];
    Industrial [label = "Industrial"];
    LimestoneDeposit [label = "Limestone Deposit"];

    { rank = same; CoalDeposit; IronDeposit; Industrial; LimestoneDeposit; }

    // Raw materials extraction
    node [shape = box, color = green, style = filled];
    CoalMine [label = "Coal Mine"];
    IronMine [label = "Iron Mine"];
    Forestry [label = "Forestry"];
    SulfurMine [label = "Sulfur Mine"];
    NitrateMine [label = "Nitrate Mine"];
    OilWell [label = "Oil Well"];
    LimestoneMine [label = "Limestone Mine"];
    ClayPit [label = "Clay Pit"];
    SandAndGravelQuarry [label = "Sand & Gravel Quarry"];
    Farm [label = "Farm"];
    { rank = same; CoalMine; IronMine; Forestry; SulfurMine; NitrateMine; OilWell; LimestoneMine; ClayPit; SandAndGravelQuarry; Farm; }

    node [shape = box, color = "#a04000"];
    // https://en.wikipedia.org/wiki/Basic_oxygen_steelmaking
    IronWorks [label = "Iron Works"];
    WeaponsFactory [label = "Weapons Factory"];
    TrainFactory [label = "Train Factory"];
    LumberMill [label = "Lumber Mill"];
    AmmunitionFactory [label = "Ammunition Factory"];
    OilRefinery [label = "Oil Refinery"];
    CementPlant [label = "Cement Plant"];
    ConcretePlant [label = "Concrete Plant"];
    FoodProcessingPlant [label = "Food Processing Plant"];
    PowerPlant [label = "Power Plant"];
    CoalToOilPlant [label = "Coal to Oil Plant"];

    subgraph cluster_ExplosivesPlant {
        // This is being built together as otherwise it becomes too much micro-management
        // Later: Should we be considering the TNT aspects too?
        // See https://en.wikipedia.org/wiki/TNT#Preparation and https://en.wikipedia.org/wiki/Toluene#Production
        style = filled;
        color = "#a04000";
        fontcolor = white;
        label = "Explosives Plant";
        node [shape = box, color = "#802000", fontcolor = white];

        NitricAcidPlant [label = "Nitric Acid Plant"];
        SulfuricAcidPlant [label = "Sulfuric Acid Plant"];
        NitrationPlant [label = "Nitration Plant"];

        node [shape = ellipse, color = "#D8DBE2", fontcolor = black, style = filled];
        NitricAcid [label = "Nitric Acid"];
        SulfuricAcid [label = "Sulfuric Acid"];
    }

    // Final consumers
    node [shape = box, color = "#4A5F6D"];
    Construction [label = "Construction"];
    Military [label = "Military"];
    CoalUsageByTrainMovement [label = "Coal Usage by Train Movement"]
    TrainBuilding [label = "Train Building"];
    PowerPlant [label = "Power Plant"];
    City [label = "City"];
    EnergyUsageByIndustry [label = "Energy Usage by Industry"];
    { rank = same; Construction; Military; CoalUsageByTrainMovement; TrainBuilding; EnergyUsageByIndustry; City; }

    node [shape = ellipse, color = "#D8DBE2", fontcolor = black];
    Coal [label = "Coal"];
    Iron [label = "Iron"];
    Oil [label = "Oil"];
    Fuel [label = "Fuel"];
    Nitrates [label = "Nitrates"];
    Sulfur [label = "Sulfur"];
    Nitrocellulose [label = "Nitrocellulose"];
    Timber [label = "Timber"];
    Cellulose [label = "Cellulose"];
    Concrete [label = "Concrete"];
    Cement [label = "Cement"];
    SandAndGravel [label = "Sand & Gravel"];
    Clay [label = "Clay"];
    Limestone [label = "Limestone"];
    Weapons [label = "Weapons"];
    Ammunition [label = "Ammunition"];
    Steel [label = "Steel"];
    FarmProducts [label = "Farm Products"];
    Wood [label = "Wood"];
    Food [label = "Food"];

    node [color = "darkblue", fontcolor = white];
    Energy [label = "Energy"];
    TrainPoints [label = "Train Points"];

    CoalDeposit -> CoalMine;
    IronDeposit -> IronMine;
    Industrial -> IronWorks;

    CoalMine -> Coal;
    Coal -> IronWorks;
    Coal -> CoalUsageByTrainMovement;
    Coal -> PowerPlant;
    PowerPlant -> Energy;
    Energy -> EnergyUsageByIndustry;

    IronMine -> Iron;
    Iron -> IronWorks;

    OilWell -> Oil;
    Oil -> OilRefinery;
    OilRefinery -> Fuel;
    Fuel -> Military;

    NitrateMine -> Nitrates;
    Nitrates -> NitricAcidPlant;

    SulfurMine -> Sulfur;
    Sulfur -> SulfuricAcidPlant;

    Forestry -> Wood;
    Wood -> LumberMill;
    LumberMill -> Cellulose;
    Cellulose -> NitrationPlant;
    LumberMill -> Timber;
    Timber -> Construction;

    NitricAcidPlant -> NitricAcid;
    NitricAcid -> NitrationPlant;

    SulfuricAcidPlant -> SulfuricAcid;
    SulfuricAcid -> NitrationPlant;

    NitrationPlant -> Nitrocellulose;
    Nitrocellulose -> AmmunitionFactory;

    AmmunitionFactory -> Ammunition;
    Ammunition -> Military;
    WeaponsFactory -> Weapons;
    Weapons -> Military;

    IronWorks -> Steel;
    Steel -> AmmunitionFactory;
    Steel -> WeaponsFactory;
    Steel -> Construction;
    Steel -> TrainFactory;
    TrainFactory -> TrainPoints;
    TrainPoints -> TrainBuilding;

    LimestoneDeposit -> LimestoneMine;
    LimestoneMine -> Limestone;
    Limestone -> CementPlant;

    ClayPit -> Clay;
    Clay -> CementPlant;

    CementPlant -> Cement;
    Cement -> ConcretePlant;

    SandAndGravelQuarry -> SandAndGravel;
    SandAndGravel -> ConcretePlant;

    ConcretePlant -> Concrete;
    Concrete -> Construction;

    Farm -> FarmProducts;
    FarmProducts -> FoodProcessingPlant;
    FoodProcessingPlant -> Food;
    Food -> Military;
    Food -> City;

    Coal -> CoalToOilPlant;
    CoalToOilPlant -> Oil;
}
